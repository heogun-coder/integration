# Integration - ν†µν•© μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…

Instagram DMκ³Ό κ°™μ€ μ‹¤μ‹κ°„ μ±„ν… λ° μΆ…λ‹¨κ°„ μ•”νΈν™”, κ³ κΈ‰ μΊλ¦°λ” κΈ°λ¥μ„ κ°–μ¶ ν†µν•© μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

### π” μΆ…λ‹¨κ°„ μ•”νΈν™” μ±„ν…
- **RSA + AES ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”**: λ©”μ‹μ§€μ μ™„μ „ν• λ³΄μ• λ³΄μ¥
- **κ·Έλ£Ή μ±„ν… μ•”νΈν™”**: κ° μ°Έκ°€μλ§λ‹¤ κ°λ³„ ν‚¤ λ¶„λ°°
- **1:1 ν”„λΌμ΄λΉ— λ©”μ‹μ§€**: μ™„μ „ν• μΆ…λ‹¨κ°„ μ•”νΈν™”
- **μ‹¤μ‹κ°„ λ©”μ‹μ§•**: Socket.IO κΈ°λ° μ‹¤μ‹κ°„ ν†µμ‹ 
- **ν‚¤ μ§€λ¬Έ κ²€μ¦**: κ³µκ°ν‚¤ λ¬΄κ²°μ„± ν™•μΈ

### π“… κ³ κΈ‰ μΊλ¦°λ” μ‹μ¤ν…
- **λ“λκ·Έμ•¤λ“λ΅­ μ΄λ²¤νΈ μ΄λ™**: μ§κ΄€μ μΈ μΌμ • κ΄€λ¦¬
- **λ°λ³µ μ΄λ²¤νΈ κ΄€λ¦¬**: μΌκ°„/μ£Όκ°„/μ›”κ°„ λ°λ³µ μΌμ •
- **μ΄λ²¤νΈ κ³µμ **: λ‹¤λ¥Έ μ‚¬μ©μμ™€ μΌμ • κ³µμ  (λ³΄κΈ°/νΈμ§‘ κ¶ν•)
- **μ•λ¦Ό μ‹μ¤ν…**: μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥ν• μ΄λ²¤νΈ μ•λ¦Ό
- **μƒ‰μƒ μ½”λ”©**: μΉ΄ν…κ³ λ¦¬λ³„ μ‹κ°μ  κµ¬λ¶„
- **μ°μ„ μμ„ μ„¤μ •**: μ΄λ²¤νΈ μ¤‘μ”λ„ κ΄€λ¦¬

### π’¬ μ±„ν… κΈ°λ¥
- **κ·Έλ£Ή μ±„ν…λ°©**: λ‹¤μ¤‘ μ‚¬μ©μ μ±„ν…
- **μ‹¤μ‹κ°„ νƒ€μ΄ν•‘ ν‘μ‹**: μƒλ€λ°© μ…λ ¥ μƒνƒ ν™•μΈ
- **μ¨λΌμΈ μƒνƒ ν‘μ‹**: μ‚¬μ©μ μ ‘μ† μƒνƒ μ‹¤μ‹κ°„ ν™•μΈ
- **λ©”μ‹μ§€ λ‹µκΈ€**: νΉμ • λ©”μ‹μ§€μ— λ€ν• λ‹µκΈ€
- **λ©”μ‹μ§€ νΈμ§‘/μ‚­μ **: μ „μ†΅λ λ©”μ‹μ§€ μμ • κ°€λ¥
- **μ½μ ν‘μ‹**: λ©”μ‹μ§€ μ½μ μƒνƒ ν™•μΈ

### π‘¥ μ‚¬μ©μ κ΄€λ¦¬
- **JWT μΈμ¦**: μ•μ „ν• ν† ν° κΈ°λ° μΈμ¦
- **ν‚¤ μ κ΄€λ¦¬**: μ‚¬μ©μλ³„ RSA ν‚¤ μ μλ™ μƒμ„±
- **ν”„λ΅ν•„ κ΄€λ¦¬**: μ‚¬μ©μ μ •λ³΄ λ° μ„¤μ •

## κΈ°μ  μ¤νƒ

### Backend
- **Flask**: μ›Ή ν”„λ μ„μ›ν¬
- **Flask-SQLAlchemy**: ORM
- **Flask-JWT-Extended**: JWT μΈμ¦
- **Flask-SocketIO**: μ‹¤μ‹κ°„ ν†µμ‹ 
- **Cryptography**: μ•”νΈν™” λΌμ΄λΈλ¬λ¦¬
- **SQLite**: λ°μ΄ν„°λ² μ΄μ¤

### Frontend
- HTML5, CSS3, JavaScript
- Socket.IO Client
- Bootstrap (UI ν”„λ μ„μ›ν¬)

## μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ
```bash
pip install -r requirements.txt
```

### 2. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```bash
python run.py
```

μ• ν”λ¦¬μΌ€μ΄μ…μ€ κΈ°λ³Έμ μΌλ΅ `http://localhost:5000`μ—μ„ μ‹¤ν–‰λ©λ‹λ‹¤.

### 3. κΈ°λ³Έ κ΄€λ¦¬μ κ³„μ •
- **μ‚¬μ©μλ…**: admin
- **λΉ„λ°€λ²νΈ**: admin123

## API μ—”λ“ν¬μΈνΈ

### μΈμ¦ API
- `POST /api/auth/register` - μ‚¬μ©μ λ“±λ΅ (ν‚¤ μ μλ™ μƒμ„±)
- `POST /api/auth/login` - λ΅κ·ΈμΈ
- `POST /api/auth/logout` - λ΅κ·Έμ•„μ›ƒ
- `GET /api/auth/users/<username>/public-key` - κ³µκ°ν‚¤ μ΅°ν
- `POST /api/auth/verify-fingerprint` - ν‚¤ μ§€λ¬Έ κ²€μ¦
- `POST /api/auth/regenerate-keys` - ν‚¤ μ μ¬μƒμ„±

### μ±„ν… API
- `GET /api/chat/rooms` - μ±„ν…λ°© λ©λ΅
- `POST /api/chat/rooms` - μ±„ν…λ°© μƒμ„± (μ•”νΈν™” ν‚¤ μλ™ μƒμ„±)
- `GET /api/chat/rooms/<id>/messages` - λ©”μ‹μ§€ μ΅°ν
- `GET /api/chat/rooms/<id>/encryption-key` - κ·Έλ£Ή μ•”νΈν™” ν‚¤ μ΅°ν
- `POST /api/chat/send-encrypted` - μ•”νΈν™”λ λ©”μ‹μ§€ μ „μ†΅
- `POST /api/chat/rooms/<id>/join` - μ±„ν…λ°© μ°Έκ°€ (ν‚¤ λ¶„λ°°)
- `POST /api/chat/rooms/<id>/leave` - μ±„ν…λ°© λ‚κ°€κΈ°

### ν”„λΌμ΄λΉ— λ©”μ‹μ§€ API
- `GET /api/messages/conversations` - λ€ν™” λ©λ΅
- `GET /api/messages/<user_id>` - νΉμ • μ‚¬μ©μμ™€μ λ©”μ‹μ§€
- `POST /api/messages` - λ©”μ‹μ§€ μ „μ†΅
- `POST /api/messages/send-encrypted` - μ•”νΈν™”λ λ©”μ‹μ§€ μ „μ†΅
- `GET /api/messages/unread-count` - μ½μ§€ μ•μ€ λ©”μ‹μ§€ μ

### μΊλ¦°λ” API
- `GET /api/calendar/events` - μ΄λ²¤νΈ μ΅°ν (κ³µμ  μ΄λ²¤νΈ ν¬ν•¨)
- `POST /api/calendar/events` - μ΄λ²¤νΈ μƒμ„± (λ°λ³µ μ΄λ²¤νΈ μ§€μ›)
- `PUT /api/calendar/events/<id>` - μ΄λ²¤νΈ μμ •
- `DELETE /api/calendar/events/<id>` - μ΄λ²¤νΈ μ‚­μ 
- `PUT /api/calendar/events/<id>/move` - λ“λκ·Έμ•¤λ“λ΅­ μ΄λ™
- `POST /api/calendar/events/<id>/share` - μ΄λ²¤νΈ κ³µμ 
- `DELETE /api/calendar/events/<id>/unshare` - κ³µμ  ν•΄μ 
- `DELETE /api/calendar/events/repeat-group/<id>` - λ°λ³µ μ΄λ²¤νΈ κ·Έλ£Ή μ‚­μ 
- `GET /api/calendar/events/<id>/notifications` - μ΄λ²¤νΈ μ•λ¦Ό μ΅°ν

## λ³΄μ• κΈ°λ¥

### μΆ…λ‹¨κ°„ μ•”νΈν™”
1. **ν‚¤ μƒμ„±**: μ‚¬μ©μ λ“±λ΅ μ‹ 2048λΉ„νΈ RSA ν‚¤ μ μλ™ μƒμ„±
2. **ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”**: RSAλ΅ AES ν‚¤λ¥Ό μ•”νΈν™”ν•κ³ , AESλ΅ λ©”μ‹μ§€ μ•”νΈν™”
3. **κ·Έλ£Ή ν‚¤ κ΄€λ¦¬**: κ° κ·Έλ£Ή μ±„ν…λ°©λ§λ‹¤ κ³ μ ν• AES ν‚¤ μƒμ„±
4. **ν‚¤ λ¶„λ°°**: μ°Έκ°€μ κ³µκ°ν‚¤λ΅ κ·Έλ£Ή ν‚¤λ¥Ό κ°λ³„ μ•”νΈν™”ν•μ—¬ λ¶„λ°°
5. **ν‚¤ μ§€λ¬Έ**: SHA256 ν•΄μ‹λ¥Ό ν†µν• κ³µκ°ν‚¤ λ¬΄κ²°μ„± κ²€μ¦

### κ°μΈμ •λ³΄ λ³΄νΈ
- μ„λ²„μ—λ” κ°μΈν‚¤ μ €μ¥ν•μ§€ μ•μ (ν΄λΌμ΄μ–ΈνΈμ—μ„ κ΄€λ¦¬)
- μ•”νΈν™”λ λ©”μ‹μ§€λ§ λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥
- JWT ν† ν° κΈ°λ° μΈμ¦μΌλ΅ μ„Έμ… λ³΄μ• κ°•ν™”

## λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§

### μ£Όμ” ν…μ΄λΈ”
- **User**: μ‚¬μ©μ μ •λ³΄ λ° κ³µκ°ν‚¤ μ €μ¥
- **ChatRoom**: μ±„ν…λ°© μ •λ³΄ λ° κ·Έλ£Ή μ•”νΈν™” ν‚¤
- **Message**: μ•”νΈν™”λ κ·Έλ£Ή λ©”μ‹μ§€
- **PrivateMessage**: μ•”νΈν™”λ κ°μΈ λ©”μ‹μ§€
- **UserGroupKey**: μ‚¬μ©μλ³„ κ·Έλ£Ή ν‚¤ μ•”νΈν™” μ €μ¥
- **Event**: μΊλ¦°λ” μ΄λ²¤νΈ (λ°λ³µ, κ³µμ  μ •λ³΄ ν¬ν•¨)
- **EventShare**: μ΄λ²¤νΈ κ³µμ  μ •λ³΄

## Socket.IO μ΄λ²¤νΈ

### μ±„ν… μ΄λ²¤νΈ
- `join` - μ±„ν…λ°© μ…μ¥
- `leave` - μ±„ν…λ°© ν‡΄μ¥
- `message` - λ©”μ‹μ§€ μ „μ†΅ (μ•”νΈν™” μ§€μ›)
- `typing` - νƒ€μ΄ν•‘ μƒνƒ μ „μ†΅
- `ping` - μ¨λΌμΈ μƒνƒ μ μ§€

## κ°λ° κ°€μ΄λ“

### μƒλ΅μ΄ μ•”νΈν™” κΈ°λ¥ μ¶”κ°€
1. `app/crypto.py`μ— μ•”νΈν™” ν•¨μ κµ¬ν„
2. λ¨λΈμ— ν•„μ”ν• μ•”νΈν™” ν•„λ“ μ¶”κ°€
3. APIμ—μ„ μ•”νΈν™”/λ³µνΈν™” λ΅μ§ ν†µν•©
4. ν΄λΌμ΄μ–ΈνΈμ—μ„ ν‚¤ κ΄€λ¦¬ κµ¬ν„

### μΊλ¦°λ” κΈ°λ¥ ν™•μ¥
1. `app/models.py`μ—μ„ Event λ¨λΈ ν™•μ¥
2. `app/calendar/routes.py`μ— μƒ API μ¶”κ°€
3. λ°λ³µ μ΄λ²¤νΈμ κ²½μ° `create_recurring_events` ν•¨μ μμ •

## μ£Όμμ‚¬ν•­

1. **κ°μΈν‚¤ λ³΄μ•**: ν΄λΌμ΄μ–ΈνΈμ κ°μΈν‚¤λ” μ λ€ μ„λ²„λ΅ μ „μ†΅ν•μ§€ λ§ κ²ƒ
2. **ν‚¤ λ°±μ—…**: μ‚¬μ©μκ°€ κ°μΈν‚¤λ¥Ό λ¶„μ‹¤ν•λ©΄ κΈ°μ΅΄ λ©”μ‹μ§€ λ³µνΈν™” λ¶κ°€
3. **μ„±λ¥**: λ€μ©λ‰ κ·Έλ£Ή μ±„ν… μ‹ μ•”νΈν™”/λ³µνΈν™” μ„±λ¥ κ³ λ ¤ ν•„μ”
4. **ν‚¤ μν™**: λ³΄μ•μ„ μ„ν•΄ μ£ΌκΈ°μ μΈ ν‚¤ μ¬μƒμ„± κ¶μ¥
